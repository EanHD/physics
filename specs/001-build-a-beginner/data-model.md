# Data Model - MVP

**Feature**: 001-build-a-beginner
**Date**: 2025-09-13

## Entities

### Module (stored as Markdown files in `content/`)
- `id` (string): unique slug, e.g., `linear-algebra-eigenvalues`
- `title` (string)
- `summary` (string)
- `estimated_minutes` (integer)
- `prerequisites` (array of ids)
- `content_path` (string): relative path to Markdown file in `content/`
- `resources` (array of Resource ids)
- `quiz` (object): reference to quiz JSON or inline questions
- `tags` (array of strings)

### Resource
- `id` (string)
- `name` (string)
- `description` (string)
- `link` (string)
- `category` (string)

### UserProgress (stored in LocalStorage or JSON export)
- `user_id` (string | null) - null for anonymous
- `completed_modules` (array of module ids)
- `module_states` (map moduleId -> {status: "not-started"|"in-progress"|"completed", last_accessed: timestamp, score: number|null})
- `review_schedule` (array of ScheduleEntry)

### ScheduleEntry
- `module_id` (string)
- `next_review` (ISO timestamp)
- `interval_days` (integer)

## Storage Formats
- `content/` directory: `module-slug.md` files with frontmatter YAML for metadata (title, summary, prerequisites, estimated_minutes, resources, tags)
- `content/quizzes/` directory: `module-slug-quiz.json` files
- User progress: stored in IndexedDB using localForage under key `qm_study_progress_v1`; export/import as JSON file for portability
- Cached content: stored in IndexedDB for offline access
- PWA manifest: `public/manifest.json` for home screen installation
- Service worker: auto-generated by Vite PWA plugin for offline content caching

## PWA Storage Strategy
- **Study Progress**: IndexedDB (persistent, large capacity)
- **Module Content**: IndexedDB cache (for offline reading)
- **User Preferences**: IndexedDB (theme, study schedule, AI settings)
- **Spaced Repetition Queue**: IndexedDB (review scheduling)

## Example Module frontmatter
```
---
id: linear-algebra-eigenvalues
title: Eigenvalues and Eigenvectors
summary: Introduction to eigenvalues, eigenvectors, and diagonalization
estimated_minutes: 90
prerequisites: [linear-algebra-matrices]
resources:
  - hefferon-linear-algebra
  - mit-18-06-lecture-1
tags: [linear-algebra, matrices, eigenvalues]
---

# Content markdown here
```
